<!DOCTYPE html>
<script>
var text1="Russian invasion of Ukraine.";
var date1="Feb 2022";
var text2="Coronavirus pandemic.";
var date2="Dec 2019";
var text3="Donald Trump is elected President.";
var date3="Nov 2016";
var text4="Microsoft releses Windows 7.";
var date4="Oct 2008";
var text5="First release of the iPhone.";
var date5="Jun 2007";
var text6="11. september.";
var date6="Aug 2015";
var text7="Netflix is founded.";
var date7="Sep 1997";

// Reference list
const referenceList = ["set_7", "set_6", "set_5", "set_4", "set_3", "set_2", "set_1"];


// Highscore code
 var name=window.prompt("Enter your name:");
//	window.alert("Welcome, "+name);
var startTime, endTime;
	startTime = new Date();


</script>


<html>
<head>
	<link rel="icon" type="image/png" href="images/logo.png">
	<title>Timeline</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="st/theme.css">
	<link rel="stylesheet" type="text/css" href="st/carbon.css">

	<meta charset="utf-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
	<meta property="og:image" content="/st/og-image.png"/>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
</head>
<body>


<div class="container">

	<div class="text-center header">
		<img class="mx-auto d-block" src="images/logo.png" style="max-width: 150px; max-height: 150px" />
		<h1 class="col-12 teaser">Timeline</h1>
	</div>

			<div id="simple-list" class="row">
		  <h5 class="col-12 teaser text-center">Put the events in the correct order</h5>

<div  style="width:100%;">

				 <div class="button">
			 	 	<button onclick="myFunction()">Show answers</button>
			  </div>
</div>
</div>



	<div id="example1" class="list-group col">

			<div id="set_1" class="list-group-item">
				<div class="column">
					<img class="image" src="images/date1.jpg">
				</div>
				<div class="column center">
					<div class="hidden"><script>document.write(date1)</script></div>
						<script>document.write(text1)</script>
				</div></div>
			<div id="set_2" class="list-group-item">
				<div class="column">
					<img class="image" src="images/date2.jpg">
				</div>
				<div class="column center">
					<div class="hidden"><script>document.write(date2)</script></div>
						<script>document.write(text2)</script>
				</div></div>
			<div id="set_3" class="list-group-item">
				<div class="column">
					<img class="image" src="images/date3.jpg">
				</div>
				<div class="column center">
					<div class="hidden"><script>document.write(date3)</script></div>
					<script>document.write(text3)</script>
				</div></div>
			<div id="set_4" class="list-group-item">
				<div class="column">
					<img class="image" src="images/date4.jpg">
				</div>
				<div class="column center">
					<div class="hidden"><script>document.write(date4)</script></div>
					<script>document.write(text4)</script>
				</div></div>
			<div id="set_5" class="list-group-item">
				<div class="column">
					<img class="image" src="images/date5.jpg">
				</div>
				<div class="column center">
					<div class="hidden"><script>document.write(date5)</script></div>
					<script>document.write(text5)</script>
				</div></div>
			<div id="set_6" class="list-group-item">
				<div class="column">
					<img class="image" src="images/date6.jpg">
				</div>
				<div class="column center">
					<div class="hidden"><script>document.write(date6)</script></div>
					<script>document.write(text6)</script>
				</div></div>
			<div id="set_7" class="list-group-item">
				<div class="column">
					<img class="image" src="images/date7.jpg">
				</div>
				<div class="column center">
					<div class="hidden"><script>document.write(date7)</script></div>
					<script>document.write(text7)</script>
				</div>
			</div>
		</div>  <center><p><span class="gray" id="counter"> </span></p></center>
	</div>
</div>



		<script>

		// show answer button
		function myFunction() {
		  // Select elements with the class "hidden"
		  var elements = document.getElementsByClassName("hidden");
		  // Loop through the elements and toggle their display
		  for (var i = 0; i < elements.length; i++) {
		    var element = elements[i];
		      element.style.display = "block";
		  }
			// Select elements with the class "hidden"
		var centers = document.getElementsByClassName("center");

		// Loop through the elements and set their display to "block"
		for (var i = 0; i < centers.length; i++) {
		  centers[i].style.display = "block";
		 }
		}
		</script>




	<script>

	  // Make the list sortable
	  const listGroup = document.getElementById("example1");
	  listGroup.addEventListener("dragstart", function(event) {
	    event.dataTransfer.setData("text/plain", event.target.id);
	    event.target.classList.add("dragging");
	  });
	  listGroup.addEventListener("dragover", function(event) {
	    event.preventDefault();
	  });
	  listGroup.addEventListener("drop", function(event) {
	    event.preventDefault();
	    const draggableElement = document.getElementById(event.dataTransfer.getData("text"));
	    const dropTarget = event.target;
	    dropTarget.parentNode.insertBefore(draggableElement, dropTarget);


	  });
	  listGroup.addEventListener("dragend", function(event) {

			// Check the order of the list against the reference list
			const sortedList = listGroup.children;
			let correctCount = 0;
	for (let i = 0; i < sortedList.length; i++) {
	  if (sortedList[i].id === referenceList[i]) {
	    correctCount++;
	  }
      // if ref list id is the same as sortlist id add css class
		 if (sortedList[i].id == referenceList[i]) {
			const cssId = sortedList[i].id;
			const css = document.getElementById(cssId);
			css.classList.add("correct");
		 }
		 if (sortedList[i].id != referenceList[i]) {
			const cssId = sortedList[i].id;
			const css = document.getElementById(cssId);
			css.classList.remove("correct");
		 }
	}
 //	alert(`${correctCount} items are in the correct place.`);
 // Update span with ID count to display the correct count
 const countSpan = document.getElementById("counter");
  countSpan.innerHTML = `${correctCount} event is correctly placed on the timeline.`;
  	if (correctCount !== 1) {
 countSpan.innerHTML = `${correctCount} events is correctly placed on the timeline.`; // more than one or zero
}

	if (correctCount === referenceList.length) {
	//  alert("All items are in the correct place!");

			endTime = new Date();
			var timeDiff = endTime - startTime; //in ms
			// strip the ms
			timeDiff /= 1000;

			// get seconds
			var seconds = Math.round(timeDiff);
			myFunction()
			alert(seconds + " sekunder! Flot "+name);
	}
	    event.target.classList.remove("dragging");
	  });
		// Add draggable attribute to list items
   const listItems = listGroup.children;
   for (let i = 0; i < listItems.length; i++) {
     listItems[i].setAttribute("draggable", "true");
   }
 </script>






	<!-- Latest Sortable -->
	<script src="./Sortable.js"></script>

	<script type="text/javascript" src="st/prettify/prettify.js"></script>
	<script type="text/javascript" src="st/prettify/run_prettify.js"></script>

	<script src="st/app.js"></script>
</body>
</html>
